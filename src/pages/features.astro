---
import MarketingLayout from '@/layouts/MarketingLayout.astro';
import PageHeader from '@sections/content/PageHeader.astro';
import ValuesSection from '@sections/team/ValuesSection.astro';
import FeatureHighlight from '@sections/marketing/FeatureHighlight.astro';
import BentoGrid from '@sections/marketing/BentoGrid.astro';
import CTA from '@sections/marketing/CTA.astro';
import { siteConfig } from '@/config';

const highlightedFeatures = [
  {
    title: 'Preview Deployments for Every PR',
    description:
      'Every pull request automatically gets its own unique preview URL. Share with your team, get feedback from stakeholders, and merge with confidence knowing exactly what will go live.',
    image: '/images/features/preview-deploy.webp',
    badge: 'Most Popular',
    highlights: [
      'Automatic deployment on every push',
      'Unique URL for each pull request',
      'Comment integration with GitHub/GitLab',
      'Password protection for sensitive previews',
    ],
    cta: { label: 'Learn about previews', href: '/docs/previews' },
  },
  {
    title: 'Global Edge Network',
    description:
      'Your application runs on 200+ edge locations worldwide, ensuring blazing fast load times for every user regardless of their location. Static assets are cached at the edge for instant delivery.',
    icon: 'lucide:globe',
    badge: 'Performance',
    highlights: [
      '200+ edge locations globally',
      'Sub-50ms response times',
      'Automatic SSL certificates',
      'Smart caching strategies',
    ],
    cta: { label: 'Explore our network', href: '/docs/edge-network' },
  },
  {
    title: 'Zero-Config Framework Support',
    description:
      'Virex automatically detects your framework and configures the optimal build settings. Next.js, Astro, Remix, Nuxt, SvelteKit—we support them all out of the box.',
    icon: 'lucide:package',
    badge: 'Developer Experience',
    highlights: [
      'Auto-detection of 30+ frameworks',
      'Optimized build configurations',
      'Built-in caching for dependencies',
      'Custom build commands when needed',
    ],
    cta: { label: 'View supported frameworks', href: '/docs/frameworks' },
  },
];

const bentoFeatures = [
  {
    title: 'Instant Rollbacks',
    description:
      'Something went wrong? Roll back to any previous deployment with a single click. Zero downtime, zero stress.',
    icon: 'lucide:history',
    size: 'large' as const,
    accent: 'primary' as const,
    href: '/docs/rollbacks',
  },
  {
    title: 'Real-time Logs',
    description: 'Stream build and runtime logs in real-time for quick debugging.',
    icon: 'lucide:terminal',
    accent: 'blue' as const,
  },
  {
    title: 'Environment Variables',
    description: 'Securely manage secrets across development, preview, and production.',
    icon: 'lucide:lock',
    accent: 'green' as const,
  },
  {
    title: 'Team Collaboration',
    description:
      'Role-based access control, deployment comments, and audit logs for your entire team.',
    icon: 'lucide:users',
    size: 'medium' as const,
    accent: 'purple' as const,
    href: '/docs/teams',
  },
];

const featureCategories = [
  {
    title: 'Deployment',
    subtitle: 'Get your code to production faster than ever',
    items: [
      {
        icon: 'lucide:zap',
        title: 'Instant Deploys',
        description:
          'Push to your Git repository and watch your changes go live in seconds. Our optimized build pipeline handles everything from dependency installation to asset optimization.',
      },
      {
        icon: 'lucide:refresh-cw',
        title: 'Automatic Rollbacks',
        description:
          'Every deployment is versioned and stored. Roll back to any previous version with a single click—no downtime, no stress.',
      },
      {
        icon: 'lucide:git-branch',
        title: 'Preview Deployments',
        description:
          'Every pull request gets its own unique URL. Share with your team, get feedback, and merge with confidence.',
      },
      {
        icon: 'lucide:package',
        title: 'Zero-Config Builds',
        description:
          'Virex auto-detects your framework and configures the build process automatically. Next.js, Astro, Remix, Vite—we support them all.',
      },
    ],
  },
  {
    title: 'Infrastructure',
    subtitle: 'Enterprise-grade infrastructure without the complexity',
    items: [
      {
        icon: 'lucide:globe',
        title: 'Global Edge Network',
        description:
          'Your application runs on 200+ edge locations worldwide. Users get sub-50ms response times no matter where they are.',
      },
      {
        icon: 'lucide:trending-up',
        title: 'Auto-Scaling',
        description:
          'Handle traffic spikes effortlessly. Virex automatically scales your application up or down based on demand.',
      },
      {
        icon: 'lucide:shield',
        title: 'Built-in Security',
        description:
          'SSL certificates provisioned automatically. DDoS protection, WAF rules, and security headers configured out of the box.',
      },
      {
        icon: 'lucide:database',
        title: 'Edge Caching',
        description:
          'Intelligent caching at the edge reduces origin load and speeds up content delivery. Configure cache rules with simple headers.',
      },
    ],
  },
  {
    title: 'Developer Experience',
    subtitle: 'Tools that make your team more productive',
    items: [
      {
        icon: 'lucide:link',
        title: 'Git Integration',
        description:
          'Connect your GitHub, GitLab, or Bitbucket repository. Automatic deployments on every push to your main branch.',
      },
      {
        icon: 'lucide:terminal',
        title: 'CLI & API',
        description:
          'Full-featured CLI for local development and CI/CD integration. REST API for custom automation workflows.',
      },
      {
        icon: 'lucide:bar-chart',
        title: 'Real-time Logs',
        description:
          'Stream build and runtime logs in real-time. Debug issues quickly with searchable, filterable log history.',
      },
      {
        icon: 'lucide:bell',
        title: 'Notifications',
        description:
          'Get notified about deployments, errors, and performance issues via Slack, Discord, email, or webhooks.',
      },
    ],
  },
  {
    title: 'Collaboration',
    subtitle: 'Built for teams of all sizes',
    items: [
      {
        icon: 'lucide:users',
        title: 'Team Management',
        description:
          'Invite team members with role-based access control. Admins, developers, and viewers each get appropriate permissions.',
      },
      {
        icon: 'lucide:message-square',
        title: 'Deployment Comments',
        description:
          'Leave comments on any deployment. Discuss changes, flag issues, and keep context with your code.',
      },
      {
        icon: 'lucide:lock',
        title: 'Environment Variables',
        description:
          'Securely manage secrets and configuration. Different values for development, preview, and production environments.',
      },
      {
        icon: 'lucide:clipboard-list',
        title: 'Audit Logs',
        description:
          'Track every action taken in your organization. Know who deployed what, when, and why.',
      },
    ],
  },
];
---

<MarketingLayout
  title={`Features - ${siteConfig.name}`}
  description="Discover all the features that make Virex the best platform for deploying and scaling your applications."
>
  <PageHeader
    title="Everything you need to ship"
    subtitle="From your first commit to global scale, Virex provides all the tools your team needs to build, deploy, and run modern applications."
  />

  <FeatureHighlight
    title="Powerful Features in Detail"
    subtitle="Deep dive into the capabilities that make Virex the best deployment platform."
    features={highlightedFeatures}
    background="muted"
  />

  {
    featureCategories.map((category, index) => (
      <ValuesSection
        title={category.title}
        subtitle={category.subtitle}
        items={category.items}
        variant="with-icon"
        columns={2}
        background={index % 2 === 0 ? 'muted' : 'default'}
      />
    ))
  }

  <BentoGrid
    title="And Much More"
    subtitle="Discover all the tools that make your deployment workflow seamless."
    items={bentoFeatures}
    background="muted"
  />

  <CTA
    title="Ready to experience the difference?"
    description="Start deploying with Virex today. Free tier available with no credit card required."
    action={{ label: 'Get Started Free', href: '/pricing' }}
    background="muted"
  />
</MarketingLayout>
