---
import MarketingLayout from '@/layouts/MarketingLayout.astro';
import PageHeader from '@sections/content/PageHeader.astro';
import SecurityBadges from '@sections/pricing/SecurityBadges.astro';
import ValuesSection from '@sections/team/ValuesSection.astro';
import FAQSection from '@sections/content/FAQSection.astro';
import CTA from '@sections/marketing/CTA.astro';
import { siteConfig } from '@/config';

const certifications = [
  {
    name: 'SOC 2 Type II',
    icon: 'lucide:shield-check',
    description:
      'Independently audited annually for security, availability, and confidentiality controls.',
    href: '#',
  },
  {
    name: 'GDPR Compliant',
    icon: 'lucide:globe',
    description: 'Full compliance with EU General Data Protection Regulation requirements.',
    href: '#',
  },
  {
    name: 'ISO 27001',
    icon: 'lucide:award',
    description: 'Certified information security management system.',
    href: '#',
  },
  {
    name: 'HIPAA Ready',
    icon: 'lucide:heart-pulse',
    description: 'BAA available for healthcare organizations handling PHI.',
    href: '#',
  },
  {
    name: 'PCI DSS',
    icon: 'lucide:credit-card',
    description: 'Level 1 service provider for payment card data security.',
    href: '#',
  },
  {
    name: 'CCPA Compliant',
    icon: 'lucide:user-check',
    description: 'California Consumer Privacy Act compliance for US customers.',
    href: '#',
  },
];

const securityFeatures = [
  {
    icon: 'lucide:lock',
    title: 'Encryption at Rest & Transit',
    description:
      'All data is encrypted using AES-256 at rest and TLS 1.3 in transit. Your data is protected at every step.',
  },
  {
    icon: 'lucide:key',
    title: 'Single Sign-On (SSO)',
    description:
      'Enterprise SSO support with SAML 2.0 and OIDC. Integrate with Okta, Azure AD, Google Workspace, and more.',
  },
  {
    icon: 'lucide:users',
    title: 'Role-Based Access Control',
    description:
      'Granular permissions with custom roles. Control exactly who can access what in your organization.',
  },
  {
    icon: 'lucide:history',
    title: 'Audit Logging',
    description:
      'Comprehensive audit logs for all actions. Track who did what, when, and from where.',
  },
  {
    icon: 'lucide:shield',
    title: 'DDoS Protection',
    description:
      'Enterprise-grade DDoS mitigation at the edge. Your applications stay online during attacks.',
  },
  {
    icon: 'lucide:scan',
    title: 'Vulnerability Scanning',
    description:
      'Continuous security scanning and penetration testing. We find issues before attackers do.',
  },
  {
    icon: 'lucide:database',
    title: 'Data Residency',
    description:
      'Choose where your data lives. Available regions include US, EU, and Asia-Pacific.',
  },
  {
    icon: 'lucide:refresh-cw',
    title: 'Automatic Backups',
    description: 'Daily automated backups with point-in-time recovery. Your data is always safe.',
  },
];

const securityFAQs = [
  {
    question: 'How do you handle data encryption?',
    answer:
      'All data is encrypted at rest using AES-256 encryption and in transit using TLS 1.3. Encryption keys are managed through a dedicated key management service with automatic rotation.',
  },
  {
    question: 'Where is my data stored?',
    answer:
      'By default, data is stored in our US data centers. Enterprise customers can choose specific data residency regions including EU (Frankfurt), Asia-Pacific (Singapore), and additional US regions.',
  },
  {
    question: 'Do you offer a BAA for HIPAA compliance?',
    answer:
      'Yes, we offer Business Associate Agreements (BAA) for healthcare organizations on our Enterprise plan. Contact our sales team to discuss your HIPAA compliance requirements.',
  },
  {
    question: 'How often do you conduct security audits?',
    answer:
      'We undergo annual SOC 2 Type II audits by independent third-party auditors. We also conduct quarterly penetration tests and continuous vulnerability scanning.',
  },
  {
    question: 'What happens in case of a security incident?',
    answer:
      'We have a comprehensive incident response plan. Affected customers are notified within 72 hours of confirmed breaches. Our security team is available 24/7 to respond to incidents.',
  },
  {
    question: 'Can I request a security questionnaire or assessment?',
    answer:
      'Yes, we provide completed SIG, CAIQ, and custom security questionnaires for Enterprise customers. Contact our security team at security@virex.example.com.',
  },
];
---

<MarketingLayout
  title={`Security - ${siteConfig.name}`}
  description="Learn about our security practices, compliance certifications, and how we protect your data."
>
  <PageHeader
    title="Security you can trust"
    subtitle="We take security seriously. Your data is protected by enterprise-grade security measures and industry-leading compliance certifications."
  />

  <SecurityBadges
    title="Compliance & Certifications"
    subtitle="Independently verified security and compliance standards."
    badges={certifications}
    variant="cards"
    background="muted"
  />

  <ValuesSection
    title="Security Features"
    subtitle="Built-in security at every layer of our platform."
    items={securityFeatures}
    variant="with-icon"
    columns={2}
    background="default"
  />

  <section class="py-section bg-surface">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
        <div>
          <h2 class="text-2xl sm:text-3xl font-bold text-text">Infrastructure Security</h2>
          <div class="mt-6 space-y-4 text-text-muted">
            <p>
              Our infrastructure runs on industry-leading cloud providers with SOC 2 and ISO 27001
              certifications. We leverage their physical security, network security, and operational
              excellence.
            </p>
            <p>
              All systems are deployed in private networks with strict firewall rules. Access to
              production systems requires multi-factor authentication and is logged for audit
              purposes.
            </p>
            <p>
              We maintain a comprehensive disaster recovery plan with regular testing. Our
              infrastructure is designed for high availability with automatic failover across
              multiple availability zones.
            </p>
          </div>
          <div class="mt-8">
            <a
              href="/contact"
              class="inline-flex items-center px-6 py-3 rounded-md bg-primary text-white font-medium hover:bg-primary-dark transition-colors"
            >
              Request Security Documentation
            </a>
          </div>
        </div>
        <div class="bg-background rounded-xl border border-border p-8">
          <h3 class="font-semibold text-text mb-6">Security Contacts</h3>
          <div class="space-y-4">
            <div>
              <p class="text-sm text-text-muted">Report a vulnerability</p>
              <a href="mailto:security@virex.example.com" class="text-primary hover:underline">
                security@virex.example.com
              </a>
            </div>
            <div>
              <p class="text-sm text-text-muted">Security questionnaires</p>
              <a href="mailto:compliance@virex.example.com" class="text-primary hover:underline">
                compliance@virex.example.com
              </a>
            </div>
            <div>
              <p class="text-sm text-text-muted">Bug bounty program</p>
              <a href="#" class="text-primary hover:underline"> View program details â†’ </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <FAQSection
    title="Security FAQ"
    subtitle="Common questions about our security practices."
    faqs={securityFAQs}
    variant="accordion"
    background="default"
  />

  <CTA
    title="Need more information?"
    description="Our security team is happy to discuss your specific requirements and provide additional documentation."
    action={{ label: 'Contact Security Team', href: '/contact' }}
    background="muted"
  />
</MarketingLayout>
